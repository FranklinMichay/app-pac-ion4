<ion-header>
    <ion-toolbar color="primary">
        <ion-back-button class="title-toolbar" slot="start">
        </ion-back-button>
        <ion-buttons slot="end">
            <ion-button slot="end">
            </ion-button>
        </ion-buttons>
        <ion-title *ngIf="dataDespacho" class="title-toolbar"> COD#:{{ dataDespacho.codiRece }}</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content *ngIf="productoDespacho">

    <div class="ion-padding div-menu">
        <ion-row class="nav-tabs">
            <ion-col class="col-left" [ngClass]="{'active': currentTab === 'step1'}" (click)="changeTab('step1')">
                <label class="text-center">Medicamentos</label>
            </ion-col>
            <!-- <ion-col class="col-center" [ngClass]="{'active': currentTab === 'step2'}" (click)="changeTab('step2')">
            <label class="text-center">Compradas</label>
        </ion-col> -->
            <ion-col class="col-right" [ngClass]="{'active': currentTab === 'step3'}" (click)="changeTab('step3')">
                <label class="text-center">Estado</label>
            </ion-col>
        </ion-row>
    </div>

    <ion-list-header *ngIf="dataDespacho" class="bg-receta">
        <ion-grid>
            <ion-row>
                <ion-col size="12">
                    <p class="titulo-receta">Dr. {{dataDespacho.datosReceta.datosMedico.priNombre}} {{dataDespacho.datosReceta.datosMedico.priApellido}}
                    </p>
                </ion-col>
                <ion-col size="12">
                    <h3 class="es-med">{{dataDespacho.datosReceta.datosMedico.especialidad }}</h3>
                </ion-col>
                <ion-col size="12">
                    <h3 class="cm-med">{{dataDespacho.datosReceta.datosMedico.centroMedico }}</h3>
                </ion-col>
            </ion-row>
        </ion-grid>
    </ion-list-header>


    <div class="form-group required" *ngIf="currentTab === 'step1'">
        <ion-grid *ngIf="dataDespacho" class="ion-no-padding">
            <ion-list-header class="title-data ">
                <ion-label class="medicamentos">Medicamentos</ion-label>
            </ion-list-header>

            <ion-row *ngFor="let product of productoDespacho; let i = index" class="row-content">
                <ion-col size="8">
                    <ion-label class="col-name">{{product?.codigoProducto.nombre}}</ion-label><br>
                    <ion-label class="col-forma">{{product?.codigoProducto.formaFarmaceutica}}</ion-label>

                </ion-col>

                <ion-col size="4" class="col-name">
                    Cant. {{ dataDespacho.datosReceta.detalles[i].cantidad | number: '1.2-4'}}
                </ion-col>

                <ion-col size="12">
                    <hr class="line"><br>
                    <ion-label class="col-ind">Indicaciones:</ion-label><br>
                    <ion-label class="col-ind-text">{{dataDespacho.datosReceta.indicaciones[i].indicaciones}}
                    </ion-label>

                </ion-col>
            </ion-row>

        </ion-grid>
    </div>

    <div class="form-group required" *ngIf="currentTab === 'step3'">
        <h3 class="eta-desp">ETA:20min</h3>
        <div class="stepwizard">
            <div class="stepwizard-row">
                <div class="stepwizard-step">
                    <button type="button" class="btn btn-default btn-circle">
                        <ion-icon name="checkmark-circle-outline" class="icon-button"></ion-icon>
                    </button>
                    <ion-icon src="assets/imgs/svg/hourglass-outline.svg" class="bg-icon"></ion-icon>
                    <p>Hora de pedido</p>
                </div>
                <div class="stepwizard-step">
                    <button type="button" class="btn btn-primary btn-circle">
                        <ion-icon name="checkmark-circle-outline" class="icon-button"></ion-icon>
                    </button>
                    <ion-icon src="assets/imgs/svg/bicycle-outline.svg" class="bg-icon"></ion-icon>
                    <p>En camino</p>
                </div>
                <div class="stepwizard-step">
                    <button type="button" class="btn btn-default btn-circle" disabled="disabled">3</button>
                    <ion-icon src="assets/imgs/svg/wallet-outline.svg" class="bg-icon"></ion-icon>
                    <p>Entrega estimada</p>
                </div>
            </div>
        </div>
    </div>
</ion-content>

<!-- <ion-footer>
    <ion-toolbar>

        <button *ngIf="dataReceta.estadoReceta == 'nueva'" class="cerrar" (click)="goDetails(dataReceta)">COMPRAR
            RECETA</button>

    </ion-toolbar>
</ion-footer> -->