<ion-header>
    <ion-toolbar color="primary">
        <ion-back-button class="style-button-back" slot="start">
        </ion-back-button>
        <ion-title class="title-toolbar">Médicos</ion-title>
    </ion-toolbar>
</ion-header>
<!-- 
    <div *ngIf="!medics">
        <ion-auto-complete [(model)]="selected" [multi]="false" [dataProvider]="provider" [disabled]="false" [options]="options" [removeButtonIcon]="'assets/icons/clear.svg'" [removeButtonColor]="'dark'" (blur)="on('blur', $event)" (autoFocus)="on('autoFocus', $event)"
            (autoBlur)="on('autoBlur', $event)" (focus)="on('focus', $event)" (ionAutoInput)="on('ionAutoInput', $event)" (itemsChange)="on('itemsChange', $event)" (itemsHidden)="on('itemsHidden', $event)" (itemRemoved)="on('itemRemoved', $event)" (itemSelected)="on('itemSelected', $event)"
            (itemsShown)="on('itemsShown', $event)">
        </ion-auto-complete>
    </div> -->
<ion-content>
    <ion-item class="city">
        <ion-label>Parámetros de Búsqueda</ion-label>
        <ion-select [(ngModel)]="param" (ngModelChange)="getInfoSelect($event)">
            <ion-select-option *ngFor="let item of params" [value]="item.name">{{item.name}}</ion-select-option>
        </ion-select>
    </ion-item>

    <tag-input [(ngModel)]="selected" [placeholder]="'Seleccione otro parametro'" [onlyFromAutocomplete]="true" (onTextChange)="onTextChange($event)" [maxItems]='3'>
        <tag-input-dropdown [showDropdownIfEmpty]="true" [dynamicUpdate]="false" [focusFirstElement]="true" [displayBy]="'nombre'" [identifyBy]="'id'" [autocompleteItems]="tags">
            <ng-template let-item="item" let-index="index">
                {{ item.nombre }}
            </ng-template>
        </tag-input-dropdown>
    </tag-input>

    <ion-button *ngIf="selected.length > 0" (click)="getMedicsForParams()">BUSCAR</ion-button>

    <div *ngIf="searching" class="results">
        <div *ngIf="medics && medics.length === 0">
            <div class="center-img">
                <img src="assets/imgs/sin-datos.svg">
                <p class="text">No se han encontrado resultados para su búsqueda</p>
            </div>
        </div>

        <!-- <ion-searchbar *ngIf="medics" placeholder="Buscar" (ionInput)="onInput($event)"></ion-searchbar> -->

        <ion-searchbar *ngIf="medics" placeholder="Buscar" (ionInput)="onInput($event)"> </ion-searchbar>
        <div *ngIf="medics">
            <ion-grid class="content-medic">
                <ion-row *ngFor="let medic of medics" (click)="goToDetails(medic)" class="container-medic">
                    <ion-col class="container-image" size="4">
                        <img class="image" *ngIf="medic.fotoPerfil" [src]="medic.fotoPerfil">
                        <img class="image" *ngIf="!medic.fotoPerfil" src="assets/imgs/doctor.png">
                    </ion-col>
                    <ion-col class="container-info-medic" size="7">
                        <ion-row>
                            <ion-col class="name" size="12">
                                {{ medic.priNombre }} {{ medic.priApellido }}
                            </ion-col>
                            <ion-col class="fecha" size="12">
                                {{ medic.especialidad.nombre }} &#8226; {{ medic.telefono}}
                            </ion-col>
                            <ion-col class="cm" *ngFor="let cm of medic.centroMedico" size="12">
                                {{ cm.nombre }}
                            </ion-col>
                        </ion-row>
                    </ion-col>
                    <ion-col size="1" class="icon-medic">
                        <ion-icon name="ios-arrow-forward"></ion-icon>

                    </ion-col>
                </ion-row>
            </ion-grid>
        </div>
    </div>
</ion-content>